{"ast":null,"code":"import _regeneratorRuntime from\"/home/dcil20214/DCI/Online-Courses/Udemy/React-Brad-Traversy/Projects/search-github-functional/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dcil20214/DCI/Online-Courses/Udemy/React-Brad-Traversy/Projects/search-github-functional/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/dcil20214/DCI/Online-Courses/Udemy/React-Brad-Traversy/Projects/search-github-functional/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer}from'react';import axios from'axios';import GithubContext from'./githubContext';import GithubReducer from'./githubReducer';import{SEARCH_USERS,SET_LOADING,CLEAR_USERS,GET_REPOS,GET_USER}from'../types';// preparing the app to deploy it:\nvar githubClientId;var githubClientSecret;if(process.env.NODE_ENV!=='production'){githubClientId=process.env.REACT_APP_GITHUB_CLIENT_ID;githubClientSecret=process.env.REACT_APP_GITHUB_CLIENT_SECRET;}else{githubClientId=process.env.GITHUB_CLIENT_ID;githubClientSecret=process.env.GITHUB_CLIENT_SECRET;};/* ###########################################*/var GithubState=function GithubState(props){var initialState={users:[],user:[],repos:[],loading:false};var _useReducer=useReducer(GithubReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// search users\n// to find Github users according to the text entered.\nvar searchUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(text){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading();_context.next=3;return axios.get(\"https://api.github.com/search/users?q=\".concat(text,\"&client_id=\").concat(githubClientId,\"&client_secret=\").concat(githubClientSecret));case 3:res=_context.sent;console.log(res.data.items);dispatch({type:SEARCH_USERS,payload:res.data.items});case 6:case\"end\":return _context.stop();}}},_callee);}));return function searchUsers(_x){return _ref.apply(this,arguments);};}();// get user\n// Get a single Github users info\nvar getUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(username){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading();_context2.next=3;return axios.get(\"https://api.github.com/users/\".concat(username,\"?client_id=\").concat(githubClientId,\"&client_secret=\").concat(githubClientSecret));case 3:res=_context2.sent;console.log(res.data.items);dispatch({type:GET_USER,payload:res.data});case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function getUser(_x2){return _ref2.apply(this,arguments);};}();// get repos\n// Get users repos\nvar getUserRepos=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(username){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setLoading();_context3.next=3;return axios.get(\"https://api.github.com/users/\".concat(username,\"/repos?per_page=5&sort=created:asc&client_id=\").concat(githubClientId,\"&client_secret=\").concat(githubClientSecret));case 3:res=_context3.sent;console.log(res.data.items);dispatch({type:GET_REPOS,payload:res.data});case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function getUserRepos(_x3){return _ref3.apply(this,arguments);};}();// clear users\n// to clear searched users from state\nvar clearUsers=function clearUsers(){return{type:CLEAR_USERS};};// set loading\nvar setLoading=function setLoading(){return dispatch({type:SET_LOADING});};return/*#__PURE__*/React.createElement(GithubContext.Provider,{value:{users:state.users,user:state.user,repos:state.repos,loading:state.loading,searchUsers:searchUsers,clearUsers:clearUsers,getUser:getUser,getUserRepos:getUserRepos}},props.children);};export default GithubState;","map":{"version":3,"sources":["/home/dcil20214/DCI/Online-Courses/Udemy/React-Brad-Traversy/Projects/search-github-functional/src/context/github/GithubState.jsx"],"names":["React","useReducer","axios","GithubContext","GithubReducer","SEARCH_USERS","SET_LOADING","CLEAR_USERS","GET_REPOS","GET_USER","githubClientId","githubClientSecret","process","env","NODE_ENV","REACT_APP_GITHUB_CLIENT_ID","REACT_APP_GITHUB_CLIENT_SECRET","GITHUB_CLIENT_ID","GITHUB_CLIENT_SECRET","GithubState","props","initialState","users","user","repos","loading","state","dispatch","searchUsers","text","setLoading","get","res","console","log","data","items","type","payload","getUser","username","getUserRepos","clearUsers","children"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport GithubContext from './githubContext';\nimport GithubReducer from './githubReducer';\nimport {\n    SEARCH_USERS,\n    SET_LOADING,\n    CLEAR_USERS,\n    GET_REPOS,\n    GET_USER\n} from '../types';\n\n// preparing the app to deploy it:\n\nlet githubClientId;\nlet githubClientSecret;\n\nif (process.env.NODE_ENV !== 'production') {\n    githubClientId = process.env.REACT_APP_GITHUB_CLIENT_ID;\n    githubClientSecret = process.env.REACT_APP_GITHUB_CLIENT_SECRET;\n} else {\n    githubClientId = process.env.GITHUB_CLIENT_ID;\n    githubClientSecret = process.env.GITHUB_CLIENT_SECRET;\n};\n/* ###########################################*/\n\nconst GithubState = props => {\n    const initialState = {\n        users: [],\n        user: [],\n        repos: [],\n        loading: false,\n    }\n\n    const [state, dispatch] = useReducer(GithubReducer, initialState);\n\n    // search users\n\n    // to find Github users according to the text entered.\n    const searchUsers = async text => {\n\n        setLoading();\n\n        const res = await axios.get(`https://api.github.com/search/users?q=${text}&client_id=${githubClientId}&client_secret=${githubClientSecret}`)\n        console.log(res.data.items);\n\n        dispatch({ type: SEARCH_USERS, payload: res.data.items });\n    }\n\n    // get user\n    // Get a single Github users info\n\n    const getUser = async username => {\n\n        setLoading();\n\n        const res = await axios.get(`https://api.github.com/users/${username}?client_id=${githubClientId}&client_secret=${githubClientSecret}`)\n        console.log(res.data.items);\n\n        dispatch({ type: GET_USER, payload: res.data });\n    }\n\n    // get repos\n    // Get users repos\n    const getUserRepos = async (username) => {\n\n        setLoading();\n\n        const res = await axios.get(`https://api.github.com/users/${username}/repos?per_page=5&sort=created:asc&client_id=${githubClientId}&client_secret=${githubClientSecret}`)\n        console.log(res.data.items);\n\n        dispatch({ type: GET_REPOS, payload: res.data });\n\n    }\n\n    // clear users\n    // to clear searched users from state\n    const clearUsers = () => ({ type: CLEAR_USERS });\n\n    // set loading\n    const setLoading = () => dispatch({ type: SET_LOADING });\n\n\n    return <GithubContext.Provider value={{\n        users: state.users,\n        user: state.user,\n        repos: state.repos,\n        loading: state.loading,\n        searchUsers,\n        clearUsers,\n        getUser,\n        getUserRepos,\n    }}>\n\n        {props.children}\n\n    </GithubContext.Provider>\n}\n\nexport default GithubState;"]},"metadata":{},"sourceType":"module"}